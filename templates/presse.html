{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AccrÃ©ditation Presse - SIAB 2026</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'images/logo.png' %}">
    <link rel="apple-touch-icon" href="{% static 'images/logo.png' %}">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/fonts.css' %}">
    <link rel="stylesheet" href="{% static 'css/top-banner.css' %}">
    <link rel="stylesheet" href="{% static 'css/header.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/presse.css' %}">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    {% include 'includes/header.html' %}

    <section class="presse-section-modern">
        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>
        
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 col-md-10">
                    <div class="presse-form-modern" data-aos="fade-up">
                        <div class="form-header-modern">
                            <div class="presse-icon-large">
                                <i class="fas fa-camera"></i>
                            </div>
                            <h1 class="form-title-modern">Trouvez le Contenu qui va faire le Buzz</h1>
                            <p class="form-description-modern">
                                Capturez du contenu d'information et immortalisez ce moment unique qui va rÃ©unir 
                                les professionnels de l'investissement, l'immobilier et de l'Ã©nergie.
                            </p>
                        </div>

                        {% if messages %}
                            <div class="messages-container">
                                {% for message in messages %}
                                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                                        {{ message }}
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    </div>
                                {% endfor %}
                            </div>
                        {% endif %}

                        <form action="{% url 'submit_badge_presse' %}" method="POST" class="form-content-modern">
                            {% csrf_token %}
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group-modern">
                                        <label for="prenom">
                                            <i class="fas fa-user"></i>
                                            PrÃ©nom <span class="required">*</span>
                                        </label>
                                        <input type="text" class="form-control-modern" id="prenom" name="prenom" placeholder="Votre prÃ©nom" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-modern">
                                        <label for="nom">
                                            <i class="fas fa-user"></i>
                                            Nom <span class="required">*</span>
                                        </label>
                                        <input type="text" class="form-control-modern" id="nom" name="nom" placeholder="Votre nom" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group-modern">
                                <label for="nom_media">
                                    <i class="fas fa-newspaper"></i>
                                    Nom du mÃ©dia <span class="required">*</span>
                                </label>
                                <input type="text" class="form-control-modern" id="nom_media" name="nom_media" placeholder="Ex: Le Monde, RFI, France 24..." required>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group-modern">
                                        <label for="type_media">
                                            <i class="fas fa-tv"></i>
                                            Type de mÃ©dia <span class="required">*</span>
                                        </label>
                                        <select class="form-control-modern" id="type_media" name="type_media" required>
                                            <option value="">SÃ©lectionnez le type</option>
                                            <option value="presse_ecrite">Presse Ã©crite</option>
                                            <option value="presse_en_ligne">Presse en ligne</option>
                                            <option value="media_tv">MÃ©dia TV</option>
                                            <option value="radio">Radio</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-modern">
                                        <label for="pays_origine_media">
                                            <i class="fas fa-globe"></i>
                                            Pays d'origine du mÃ©dia <span class="required">*</span>
                                        </label>
                                        <input type="text" class="form-control-modern" id="pays_origine_media" name="pays_origine_media" placeholder="Ex: France, CÃ´te d'Ivoire..." required>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group-modern">
                                        <label for="code_pays">
                                            <i class="fas fa-phone-alt"></i>
                                            Code Pays <span class="required">*</span>
                                        </label>
                                        <select class="form-control-modern" id="code_pays" name="code_pays" required>
                                            <option value="">SÃ©lectionnez...</option>
                                            <option value="CÃ´te d'Ivoire ðŸ‡¨ðŸ‡® (+225)">CÃ´te d'Ivoire ðŸ‡¨ðŸ‡® (+225)</option>
                                            <option value="France ðŸ‡«ðŸ‡· (+33)">France ðŸ‡«ðŸ‡· (+33)</option>
                                            <option value="Belgique ðŸ‡§ðŸ‡ª (+32)">Belgique ðŸ‡§ðŸ‡ª (+32)</option>
                                            <option value="Canada ðŸ‡¨ðŸ‡¦ (+1)">Canada ðŸ‡¨ðŸ‡¦ (+1)</option>
                                            <option value="BÃ©nin ðŸ‡§ðŸ‡¯ (+229)">BÃ©nin ðŸ‡§ðŸ‡¯ (+229)</option>
                                            <option value="Burkina Faso ðŸ‡§ðŸ‡« (+226)">Burkina Faso ðŸ‡§ðŸ‡« (+226)</option>
                                            <option value="Mali ðŸ‡²ðŸ‡± (+223)">Mali ðŸ‡²ðŸ‡± (+223)</option>
                                            <option value="SÃ©nÃ©gal ðŸ‡¸ðŸ‡³ (+221)">SÃ©nÃ©gal ðŸ‡¸ðŸ‡³ (+221)</option>
                                            <option value="Togo ðŸ‡¹ðŸ‡¬ (+228)">Togo ðŸ‡¹ðŸ‡¬ (+228)</option>
                                            <option value="Niger ðŸ‡³ðŸ‡ª (+227)">Niger ðŸ‡³ðŸ‡ª (+227)</option>
                                            <option value="GuinÃ©e ðŸ‡¬ðŸ‡³ (+224)">GuinÃ©e ðŸ‡¬ðŸ‡³ (+224)</option>
                                            <option value="Cameroun ðŸ‡¨ðŸ‡² (+237)">Cameroun ðŸ‡¨ðŸ‡² (+237)</option>
                                            <option value="Congo ðŸ‡¨ðŸ‡¬ (+242)">Congo ðŸ‡¨ðŸ‡¬ (+242)</option>
                                            <option value="RDC ðŸ‡¨ðŸ‡© (+243)">RDC ðŸ‡¨ðŸ‡© (+243)</option>
                                            <option value="Gabon ðŸ‡¬ðŸ‡¦ (+241)">Gabon ðŸ‡¬ðŸ‡¦ (+241)</option>
                                            <option value="Maroc ðŸ‡²ðŸ‡¦ (+212)">Maroc ðŸ‡²ðŸ‡¦ (+212)</option>
                                            <option value="Tunisie ðŸ‡¹ðŸ‡³ (+216)">Tunisie ðŸ‡¹ðŸ‡³ (+216)</option>
                                            <option value="AlgÃ©rie ðŸ‡©ðŸ‡¿ (+213)">AlgÃ©rie ðŸ‡©ðŸ‡¿ (+213)</option>
                                        </select>
                                        <small class="form-text">Veuillez choisir l'indicatif de votre pays.</small>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-modern">
                                        <label for="telephone">
                                            <i class="fas fa-phone"></i>
                                            TÃ©lÃ©phone <span class="required">*</span>
                                        </label>
                                        <input type="tel" class="form-control-modern" id="telephone" name="telephone" placeholder="XX XX XX XX XX" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group-modern">
                                <label for="email">
                                    <i class="fas fa-envelope"></i>
                                    Email <span class="required">*</span>
                                </label>
                                <input type="email" class="form-control-modern" id="email" name="email" placeholder="exemple@email.com" required>
                            </div>

                            <div class="form-group-modern">
                                <label for="message">
                                    <i class="fas fa-comment-dots"></i>
                                    Votre message
                                </label>
                                <textarea class="form-control-modern" id="message" name="message" rows="3" placeholder="Informations complÃ©mentaires..."></textarea>
                            </div>

                            <input type="hidden" id="emails_collaborateurs" name="emails_collaborateurs" value="">

                            <button type="submit" class="btn-submit-modern">
                                <i class="fas fa-paper-plane"></i>
                                Envoyer ma demande
                            </button>
                        </form>

                        <div class="collaborateurs-section">
                            <h3 class="collaborateurs-title">
                                <i class="fas fa-users"></i>
                                Rassemblez les emails de vos collaborateurs
                            </h3>
                            <p class="collaborateurs-subtitle">Soyez tous au courant de nos offres exclusives pour le SIAB</p>
                            
                            <div id="emails-container"></div>
                            
                            <div class="add-email-section">
                                <input type="email" class="form-control-modern" id="new-email" placeholder="email@collaborateur.com">
                                <button type="button" class="btn-add-email" onclick="addEmail()">
                                    <i class="fas fa-plus"></i> Ajouter un email
                                </button>
                            </div>
                        </div>

                        <div class="form-footer-modern">
                            <p><i class="fas fa-info-circle"></i> Un badge vous sera dÃ©livrÃ© dÃ¨s votre arrivÃ©e</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {% include 'includes/footer.html' %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true,
            easing: 'ease-in-out'
        });

        // Gestion des emails collaborateurs
        let collaborateursEmails = [];

        function addEmail() {
            const emailInput = document.getElementById('new-email');
            const email = emailInput.value.trim();
            
            if (email && validateEmail(email)) {
                if (!collaborateursEmails.includes(email)) {
                    collaborateursEmails.push(email);
                    updateEmailsList();
                    emailInput.value = '';
                } else {
                    alert('Cet email est dÃ©jÃ  dans la liste');
                }
            } else {
                alert('Veuillez entrer un email valide');
            }
        }

        function removeEmail(email) {
            collaborateursEmails = collaborateursEmails.filter(e => e !== email);
            updateEmailsList();
        }

        function updateEmailsList() {
            const container = document.getElementById('emails-container');
            container.innerHTML = '';
            
            collaborateursEmails.forEach(email => {
                const emailItem = document.createElement('div');
                emailItem.className = 'email-item';
                emailItem.innerHTML = `
                    <span><i class="fas fa-envelope"></i> ${email}</span>
                    <button type="button" class="btn-remove-email" onclick="removeEmail('${email}')">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                container.appendChild(emailItem);
            });
            
            // Mettre Ã  jour le champ cachÃ©
            document.getElementById('emails_collaborateurs').value = collaborateursEmails.join('\n');
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Permettre d'ajouter avec Enter
        document.getElementById('new-email').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                addEmail();
            }
        });
    </script>
</body>
</html>

